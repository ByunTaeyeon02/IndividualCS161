import{d as Rt}from"../chunks/index.R8ovVqwX.js";import{s as Gt,n as pt,o as Jt,r as qt}from"../chunks/scheduler.Ce_0Mfso.js";import{S as Kt,i as Qt,s as p,e as o,t as O,k as Wt,d as n,f as _,c as a,a as f,l as X,b as z,m as r,n as Z,g as te,h as e,j as R,o as Yt,r as St}from"../chunks/index.DTvPRYe7.js";import{e as Je}from"../chunks/each.D6YF6ztN.js";const Xt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Zt=Rt,$t=!0,al=Object.freeze(Object.defineProperty({__proto__:null,csr:Zt,prerender:$t},Symbol.toStringTag,{value:"Module"})),{document:Nt}=Xt;function At(t,u,d){const s=t.slice();return s[18]=u[d],s[20]=d,s}function Ft(t,u,d){const s=t.slice();return s[21]=u[d],s[23]=d,s}function Mt(t){let u,d="Admin Only",s,E,D,j,I,h,b='<span class="label-text">Download Data</span>',m,i,V="All Users' Info",G,F,B,L,fe='<span class="label-text">Upload Data (JSON)</span>',$,N,K,c,v,M;return{c(){u=o("h2"),u.textContent=d,s=p(),E=o("div"),D=o("div"),j=o("div"),I=o("label"),h=o("div"),h.innerHTML=b,m=p(),i=o("button"),i.textContent=V,G=p(),F=o("div"),B=o("label"),L=o("div"),L.innerHTML=fe,$=p(),N=o("input"),K=p(),c=o("div"),this.h()},l(g){u=a(g,"H2",{"data-svelte-h":!0}),X(u)!=="svelte-1acc2ad"&&(u.textContent=d),s=_(g),E=a(g,"DIV",{class:!0});var T=f(E);D=a(T,"DIV",{class:!0});var P=f(D);j=a(P,"DIV",{class:!0});var Q=f(j);I=a(Q,"LABEL",{class:!0});var H=f(I);h=a(H,"DIV",{class:!0,"data-svelte-h":!0}),X(h)!=="svelte-v8wws8"&&(h.innerHTML=b),m=_(H),i=a(H,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),X(i)!=="svelte-79ah9a"&&(i.textContent=V),H.forEach(n),Q.forEach(n),G=_(P),F=a(P,"DIV",{class:!0});var W=f(F);B=a(W,"LABEL",{class:!0});var k=f(B);L=a(k,"DIV",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-1fgqeem"&&(L.innerHTML=fe),$=_(k),N=a(k,"INPUT",{type:!0,class:!0,accept:!0}),k.forEach(n),W.forEach(n),P.forEach(n),T.forEach(n),K=_(g),c=a(g,"DIV",{class:!0}),f(c).forEach(n),this.h()},h(){r(h,"class","label"),r(i,"class","btn btn-outline shadow-xl"),Z(i,"width","100%"),r(I,"class","form-control w-full"),r(j,"class","stat"),r(L,"class","label"),r(N,"type","file"),r(N,"class","file-input file-input-bordered w-full"),r(N,"accept",".json"),r(B,"class","form-control w-full"),r(F,"class","stat"),r(D,"class","stats"),r(E,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(c,"class","pt-12")},m(g,T){te(g,u,T),te(g,s,T),te(g,E,T),e(E,D),e(D,j),e(j,I),e(I,h),e(I,m),e(I,i),e(D,G),e(D,F),e(F,B),e(B,L),e(B,$),e(B,N),te(g,K,T),te(g,c,T),v||(M=[St(i,"click",t[10]),St(N,"change",t[11])],v=!0)},p:pt,d(g){g&&(n(u),n(s),n(E),n(K),n(c)),v=!1,qt(M)}}}function Pt(t){let u,d=t[21]+"",s;return{c(){u=o("td"),s=O(d)},l(E){u=a(E,"TD",{});var D=f(u);s=z(D,d),D.forEach(n)},m(E,D){te(E,u,D),e(u,s)},p(E,D){D&512&&d!==(d=E[21]+"")&&R(s,d)},d(E){E&&n(u)}}}function Bt(t){let u,d,s=t[20]+1+"",E,D,j,I=Je(t[18]),h=[];for(let b=0;b<I.length;b+=1)h[b]=Pt(Ft(t,I,b));return{c(){u=o("tr"),d=o("th"),E=O(s),D=p();for(let b=0;b<h.length;b+=1)h[b].c();j=p(),this.h()},l(b){u=a(b,"TR",{class:!0});var m=f(u);d=a(m,"TH",{});var i=f(d);E=z(i,s),i.forEach(n),D=_(m);for(let V=0;V<h.length;V+=1)h[V].l(m);j=_(m),m.forEach(n),this.h()},h(){r(u,"class","hover")},m(b,m){te(b,u,m),e(u,d),e(d,E),e(u,D);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(u,null);e(u,j)},p(b,m){if(m&512){I=Je(b[18]);let i;for(i=0;i<I.length;i+=1){const V=Ft(b,I,i);h[i]?h[i].p(V,m):(h[i]=Pt(V),h[i].c(),h[i].m(u,j))}for(;i<h.length;i+=1)h[i].d(1);h.length=I.length}},d(b){b&&n(u),Yt(h,b)}}}function xt(t){let u,d,s,E,D,j,I,h="Your Score",b,m,i,V,G=w(t[4]/(t[4]+t[1]))+"",F,B,L,fe="Puzzles Completed",$,N,K,c,v,M,g=w(t[4]/(t[4]+t[1]))+"",T,P,Q,H,W,k,Y=w(t[3]/(t[2]+t[3]))+"",le,qe,ce,_t="Number of Hints Used",Ke,me,He,Qe,se,We,Ce=w(t[3]/(t[2]+t[3]))+"",ke,Xe,Ze,Ve,$e,ge,mt="Others' Scores",xe,J,Ee,x,Te=w(t[8]/(t[8]+t[5]))+"",Le,et,ve,gt="Puzzles Completed",tt,be,Se,lt,oe,st,Oe=w(t[8]/(t[8]+t[5]))+"",Ne,ot,at,q,De,ee,ze=w(t[7]/(t[6]+t[7]))+"",Ae,rt,he,Et="Number of Hints Used",nt,Ie,Fe,it,ae,dt,Ue=w(t[7]/(t[6]+t[7]))+"",Me,ut,ft,je,ct,pe,re,ye,bt="<tr><th></th> <th>Username</th> <th>Puzzles Completed</th> <th>Hints Stored</th> <th>Hints Used</th> <th>Give Ups</th></tr>",vt,_e,A=t[0]=="notAnAdmin"&&Mt(t),we=Je(t[9]),S=[];for(let l=0;l<we.length;l+=1)S[l]=Bt(At(t,we,l));return{c(){u=p(),d=o("div"),s=o("div"),E=o("div"),D=p(),A&&A.c(),j=p(),I=o("h2"),I.textContent=h,b=p(),m=o("div"),i=o("div"),V=o("div"),F=O(G),B=p(),L=o("div"),L.textContent=fe,$=p(),N=o("div"),K=O(t[1]),c=p(),v=o("div"),M=O("You gave up "),T=O(g),P=O("% of the puzzles"),Q=p(),H=o("div"),W=o("div"),k=o("div"),le=O(Y),qe=p(),ce=o("div"),ce.textContent=_t,Ke=p(),me=o("div"),He=O(t[3]),Qe=p(),se=o("div"),We=O("You used "),ke=O(Ce),Xe=O("% of your total hints"),Ze=p(),Ve=o("div"),$e=p(),ge=o("h2"),ge.textContent=mt,xe=p(),J=o("div"),Ee=o("div"),x=o("div"),Le=O(Te),et=p(),ve=o("div"),ve.textContent=gt,tt=p(),be=o("div"),Se=O(t[5]),lt=p(),oe=o("div"),st=O("Others gave up "),Ne=O(Oe),ot=O("% of the puzzles"),at=p(),q=o("div"),De=o("div"),ee=o("div"),Ae=O(ze),rt=p(),he=o("div"),he.textContent=Et,nt=p(),Ie=o("div"),Fe=O(t[7]),it=p(),ae=o("div"),dt=O("Others used "),Me=O(Ue),ut=O("% of their total hints"),ft=p(),je=o("div"),ct=p(),pe=o("div"),re=o("table"),ye=o("thead"),ye.innerHTML=bt,vt=p(),_e=o("tbody");for(let l=0;l<S.length;l+=1)S[l].c();this.h()},l(l){Wt("svelte-1jj56oi",Nt.head).forEach(n),u=_(l),d=a(l,"DIV",{class:!0});var U=f(d);s=a(U,"DIV",{});var y=f(s);E=a(y,"DIV",{class:!0}),f(E).forEach(n),D=_(y),A&&A.l(y),j=_(y),I=a(y,"H2",{"data-svelte-h":!0}),X(I)!=="svelte-1fdvqrz"&&(I.textContent=h),b=_(y),m=a(y,"DIV",{class:!0});var ne=f(m);i=a(ne,"DIV",{class:!0});var Dt=f(i);V=a(Dt,"DIV",{class:!0,style:!0,role:!0});var It=f(V);F=z(It,G),It.forEach(n),Dt.forEach(n),B=_(ne),L=a(ne,"DIV",{class:!0,"data-svelte-h":!0}),X(L)!=="svelte-2j8wjg"&&(L.textContent=fe),$=_(ne),N=a(ne,"DIV",{class:!0});var yt=f(N);K=z(yt,t[1]),yt.forEach(n),c=_(ne),v=a(ne,"DIV",{class:!0});var Pe=f(v);M=z(Pe,"You gave up "),T=z(Pe,g),P=z(Pe,"% of the puzzles"),Pe.forEach(n),ne.forEach(n),Q=_(y),H=a(y,"DIV",{class:!0});var ie=f(H);W=a(ie,"DIV",{class:!0});var wt=f(W);k=a(wt,"DIV",{class:!0,style:!0,role:!0});var Ct=f(k);le=z(Ct,Y),Ct.forEach(n),wt.forEach(n),qe=_(ie),ce=a(ie,"DIV",{class:!0,"data-svelte-h":!0}),X(ce)!=="svelte-d298vz"&&(ce.textContent=_t),Ke=_(ie),me=a(ie,"DIV",{class:!0});var Vt=f(me);He=z(Vt,t[3]),Vt.forEach(n),Qe=_(ie),se=a(ie,"DIV",{class:!0});var Be=f(se);We=z(Be,"You used "),ke=z(Be,Ce),Xe=z(Be,"% of your total hints"),Be.forEach(n),ie.forEach(n),Ze=_(y),Ve=a(y,"DIV",{class:!0}),f(Ve).forEach(n),$e=_(y),ge=a(y,"H2",{"data-svelte-h":!0}),X(ge)!=="svelte-hjlgk9"&&(ge.textContent=mt),xe=_(y),J=a(y,"DIV",{class:!0});var de=f(J);Ee=a(de,"DIV",{class:!0});var Tt=f(Ee);x=a(Tt,"DIV",{class:!0,style:!0,role:!0});var Ot=f(x);Le=z(Ot,Te),Ot.forEach(n),Tt.forEach(n),et=_(de),ve=a(de,"DIV",{class:!0,"data-svelte-h":!0}),X(ve)!=="svelte-2j8wjg"&&(ve.textContent=gt),tt=_(de),be=a(de,"DIV",{class:!0});var zt=f(be);Se=z(zt,t[5]),zt.forEach(n),lt=_(de),oe=a(de,"DIV",{class:!0});var Ye=f(oe);st=z(Ye,"Others gave up "),Ne=z(Ye,Oe),ot=z(Ye,"% of the puzzles"),Ye.forEach(n),de.forEach(n),at=_(y),q=a(y,"DIV",{class:!0});var ue=f(q);De=a(ue,"DIV",{class:!0});var Ut=f(De);ee=a(Ut,"DIV",{class:!0,style:!0,role:!0});var jt=f(ee);Ae=z(jt,ze),jt.forEach(n),Ut.forEach(n),rt=_(ue),he=a(ue,"DIV",{class:!0,"data-svelte-h":!0}),X(he)!=="svelte-d298vz"&&(he.textContent=Et),nt=_(ue),Ie=a(ue,"DIV",{class:!0});var Ht=f(Ie);Fe=z(Ht,t[7]),Ht.forEach(n),it=_(ue),ae=a(ue,"DIV",{class:!0});var Re=f(ae);dt=z(Re,"Others used "),Me=z(Re,Ue),ut=z(Re,"% of their total hints"),Re.forEach(n),ue.forEach(n),ft=_(y),je=a(y,"DIV",{class:!0}),f(je).forEach(n),ct=_(y),pe=a(y,"DIV",{class:!0,style:!0});var kt=f(pe);re=a(kt,"TABLE",{class:!0});var Ge=f(re);ye=a(Ge,"THEAD",{"data-svelte-h":!0}),X(ye)!=="svelte-w1p7dy"&&(ye.innerHTML=bt),vt=_(Ge),_e=a(Ge,"TBODY",{id:!0});var Lt=f(_e);for(let ht=0;ht<S.length;ht+=1)S[ht].l(Lt);Lt.forEach(n),Ge.forEach(n),kt.forEach(n),y.forEach(n),U.forEach(n),this.h()},h(){Nt.title="Score",r(E,"class","pt-2"),r(V,"class","radial-progress"),Z(V,"--value",w(t[4]/(t[4]+t[1]))),r(V,"role","progressbar"),r(i,"class","stat-figure text-secondary"),r(L,"class","stat-title"),r(N,"class","stat-value"),r(v,"class","stat-desc"),r(m,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(k,"class","radial-progress"),Z(k,"--value",w(t[3]/(t[2]+t[3]))),r(k,"role","progressbar"),r(W,"class","stat-figure text-secondary"),r(ce,"class","stat-title"),r(me,"class","stat-value"),r(se,"class","stat-desc"),r(H,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(Ve,"class","pt-12"),r(x,"class","radial-progress"),Z(x,"--value",w(t[8]/(t[8]+t[5]))),r(x,"role","progressbar"),r(Ee,"class","stat-figure text-secondary"),r(ve,"class","stat-title"),r(be,"class","stat-value"),r(oe,"class","stat-desc"),r(J,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(ee,"class","radial-progress"),Z(ee,"--value",w(t[7]/(t[6]+t[7]))),r(ee,"role","progressbar"),r(De,"class","stat-figure text-secondary"),r(he,"class","stat-title"),r(Ie,"class","stat-value"),r(ae,"class","stat-desc"),r(q,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(je,"class","pt-12"),r(_e,"id","tableBody"),r(re,"class","table table-pin-rows"),r(pe,"class","overflow-x-auto overflow-y-auto"),Z(pe,"max-height","25vh"),r(d,"class","text-column")},m(l,C){te(l,u,C),te(l,d,C),e(d,s),e(s,E),e(s,D),A&&A.m(s,null),e(s,j),e(s,I),e(s,b),e(s,m),e(m,i),e(i,V),e(V,F),e(m,B),e(m,L),e(m,$),e(m,N),e(N,K),e(m,c),e(m,v),e(v,M),e(v,T),e(v,P),e(s,Q),e(s,H),e(H,W),e(W,k),e(k,le),e(H,qe),e(H,ce),e(H,Ke),e(H,me),e(me,He),e(H,Qe),e(H,se),e(se,We),e(se,ke),e(se,Xe),e(s,Ze),e(s,Ve),e(s,$e),e(s,ge),e(s,xe),e(s,J),e(J,Ee),e(Ee,x),e(x,Le),e(J,et),e(J,ve),e(J,tt),e(J,be),e(be,Se),e(J,lt),e(J,oe),e(oe,st),e(oe,Ne),e(oe,ot),e(s,at),e(s,q),e(q,De),e(De,ee),e(ee,Ae),e(q,rt),e(q,he),e(q,nt),e(q,Ie),e(Ie,Fe),e(q,it),e(q,ae),e(ae,dt),e(ae,Me),e(ae,ut),e(s,ft),e(s,je),e(s,ct),e(s,pe),e(pe,re),e(re,ye),e(re,vt),e(re,_e);for(let U=0;U<S.length;U+=1)S[U]&&S[U].m(_e,null)},p(l,[C]){if(l[0]=="notAnAdmin"?A?A.p(l,C):(A=Mt(l),A.c(),A.m(s,j)):A&&(A.d(1),A=null),C&18&&G!==(G=w(l[4]/(l[4]+l[1]))+"")&&R(F,G),C&18&&Z(V,"--value",w(l[4]/(l[4]+l[1]))),C&2&&R(K,l[1]),C&18&&g!==(g=w(l[4]/(l[4]+l[1]))+"")&&R(T,g),C&12&&Y!==(Y=w(l[3]/(l[2]+l[3]))+"")&&R(le,Y),C&12&&Z(k,"--value",w(l[3]/(l[2]+l[3]))),C&8&&R(He,l[3]),C&12&&Ce!==(Ce=w(l[3]/(l[2]+l[3]))+"")&&R(ke,Ce),C&288&&Te!==(Te=w(l[8]/(l[8]+l[5]))+"")&&R(Le,Te),C&288&&Z(x,"--value",w(l[8]/(l[8]+l[5]))),C&32&&R(Se,l[5]),C&288&&Oe!==(Oe=w(l[8]/(l[8]+l[5]))+"")&&R(Ne,Oe),C&192&&ze!==(ze=w(l[7]/(l[6]+l[7]))+"")&&R(Ae,ze),C&192&&Z(ee,"--value",w(l[7]/(l[6]+l[7]))),C&128&&R(Fe,l[7]),C&192&&Ue!==(Ue=w(l[7]/(l[6]+l[7]))+"")&&R(Me,Ue),C&512){we=Je(l[9]);let U;for(U=0;U<we.length;U+=1){const y=At(l,we,U);S[U]?S[U].p(y,C):(S[U]=Bt(y),S[U].c(),S[U].m(_e,null))}for(;U<S.length;U+=1)S[U].d(1);S.length=we.length}},i:pt,o:pt,d(l){l&&(n(u),n(d)),A&&A.d(),Yt(S,l)}}}function w(t){return isNaN(t)?0 .toFixed(2):(t*100).toFixed(2)}function el(t,u,d){var s=this&&this.__awaiter||function(c,v,M,g){function T(P){return P instanceof M?P:new M(function(Q){Q(P)})}return new(M||(M=Promise))(function(P,Q){function H(Y){try{k(g.next(Y))}catch(le){Q(le)}}function W(Y){try{k(g.throw(Y))}catch(le){Q(le)}}function k(Y){Y.done?P(Y.value):T(Y.value).then(H,W)}k((g=g.apply(c,v||[])).next())})};let E="",D,j,I,h,b,m,i,V,G,F=[["p1",100,25,0,1],["p2",80,35,10,1],["p3",75,15,0,1],["p4",20,7,5,1],["p5",10,4,4,1]];function B(){return s(this,void 0,void 0,function*(){try{const c=yield fetch("/getTotals");if(!c.ok)throw new Error("Failed to fetch totals");const v=yield c.json();d(5,m=v.total_puzzle_completed),d(6,i=v.total_num_of_hints),d(7,V=v.total_num_of_hints_used),d(8,G=v.total_num_of_give_ups_used)}catch(c){console.error(c)}})}function L(){return s(this,void 0,void 0,function*(){try{const c=yield fetch("/getTopScores");if(!c.ok)throw new Error("Failed to fetch top scores");const v=yield c.json();d(9,F=v),console.log(F)}catch(c){console.error(c)}})}function fe(){return s(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/protected")).json();console.log(v.loggedIn),v.loggedIn?$():window.location.href="/"}catch(c){console.error("Error fetching data:",c)}})}function $(){return s(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/getUserInfo")).json();d(0,E=v.username),D=v.userType,d(1,j=v.puzzleCompleted),d(2,I=v.numOfHints),d(3,h=v.numOfHintsUsed),d(4,b=v.numOfGiveUpsUsed)}catch(c){console.error("Error fetching data:",c)}})}Jt(()=>{fe(),L(),B()});function N(){return s(this,void 0,void 0,function*(){try{const c=yield fetch("/saveInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!c.ok)throw new Error("Failed to save information");const v=c.headers.get("Content-Disposition").split("filename=")[1],M=yield c.blob(),g=window.URL.createObjectURL(M),T=document.createElement("a");T.href=g,T.download=v,T.click(),window.URL.revokeObjectURL(g)}catch(c){console.error("Error:",c)}})}function K(c){return s(this,void 0,void 0,function*(){try{const M=yield c.target.files[0].text(),g=JSON.parse(M);console.log(g);const T=yield fetch("/loadInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!T.ok)throw new Error("Failed to upload user info");const P=yield T.json()}catch(v){console.error("Error:",v)}})}return[E,j,I,h,b,m,i,V,G,F,N,K]}class rl extends Kt{constructor(u){super(),Qt(this,u,el,xt,Gt,{})}}export{rl as component,al as universal};
