import{d as Gt}from"../chunks/index.R8ovVqwX.js";import{s as Rt,n as mt,o as Jt,r as qt}from"../chunks/scheduler.Ce_0Mfso.js";import{S as Kt,i as Qt,s as h,e as o,t as U,k as Wt,d as n,f as p,c as a,a as u,l as Q,b as z,m as r,n as ee,g as ne,h as e,j as K,o as Yt,r as _t}from"../chunks/index.DTvPRYe7.js";import{e as We}from"../chunks/each.D6YF6ztN.js";const Xt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Zt=Gt,$t=!0,al=Object.freeze(Object.defineProperty({__proto__:null,csr:Zt,prerender:$t},Symbol.toStringTag,{value:"Module"})),{document:Nt}=Xt;function At(t,f,c){const s=t.slice();return s[19]=f[c],s[21]=c,s}function Ft(t,f,c){const s=t.slice();return s[22]=f[c],s[24]=c,s}function Mt(t){let f,c="Admin Only",s,g,D,H,w,_,b='<span class="label-text">Download Data</span>',m,d,V="All Users' Info",W,B,G,k,_e='<span class="label-text">Upload Data (JSON)</span>',le,A,te,X,i,v,S='<span class="label-text">Clear Data</span>',L,T,J="Clear Data",O,P,Y,Z;return{c(){f=o("h2"),f.textContent=c,s=h(),g=o("div"),D=o("div"),H=o("div"),w=o("label"),_=o("div"),_.innerHTML=b,m=h(),d=o("button"),d.textContent=V,W=h(),B=o("div"),G=o("label"),k=o("div"),k.innerHTML=_e,le=h(),A=o("input"),te=h(),X=o("div"),i=o("label"),v=o("div"),v.innerHTML=S,L=h(),T=o("button"),T.textContent=J,O=h(),P=o("div"),this.h()},l(E){f=a(E,"H2",{"data-svelte-h":!0}),Q(f)!=="svelte-1acc2ad"&&(f.textContent=c),s=p(E),g=a(E,"DIV",{class:!0});var F=u(g);D=a(F,"DIV",{class:!0});var R=u(D);H=a(R,"DIV",{class:!0});var Ue=u(H);w=a(Ue,"LABEL",{class:!0});var ie=u(w);_=a(ie,"DIV",{class:!0,"data-svelte-h":!0}),Q(_)!=="svelte-v8wws8"&&(_.innerHTML=b),m=p(ie),d=a(ie,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),Q(d)!=="svelte-79ah9a"&&(d.textContent=V),ie.forEach(n),Ue.forEach(n),W=p(R),B=a(R,"DIV",{class:!0});var se=u(B);G=a(se,"LABEL",{class:!0});var oe=u(G);k=a(oe,"DIV",{class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-1fgqeem"&&(k.innerHTML=_e),le=p(oe),A=a(oe,"INPUT",{type:!0,class:!0,accept:!0}),oe.forEach(n),se.forEach(n),te=p(R),X=a(R,"DIV",{class:!0});var Ee=u(X);i=a(Ee,"LABEL",{class:!0});var q=u(i);v=a(q,"DIV",{class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-jtpbn3"&&(v.innerHTML=S),L=p(q),T=a(q,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),Q(T)!=="svelte-6hm3nr"&&(T.textContent=J),q.forEach(n),Ee.forEach(n),R.forEach(n),F.forEach(n),O=p(E),P=a(E,"DIV",{class:!0}),u(P).forEach(n),this.h()},h(){r(_,"class","label"),r(d,"class","btn btn-outline shadow-xl"),ee(d,"width","100%"),r(w,"class","form-control w-full"),r(H,"class","stat"),r(k,"class","label"),r(A,"type","file"),r(A,"class","file-input file-input-bordered w-full"),r(A,"accept",".json"),r(G,"class","form-control w-full"),r(B,"class","stat"),r(v,"class","label"),r(T,"class","btn btn-outline shadow-xl"),ee(T,"width","100%"),r(i,"class","form-control w-full"),r(X,"class","stat"),r(D,"class","stats"),r(g,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(P,"class","pt-12")},m(E,F){ne(E,f,F),ne(E,s,F),ne(E,g,F),e(g,D),e(D,H),e(H,w),e(w,_),e(w,m),e(w,d),e(D,W),e(D,B),e(B,G),e(G,k),e(G,le),e(G,A),e(D,te),e(D,X),e(X,i),e(i,v),e(i,L),e(i,T),ne(E,O,F),ne(E,P,F),Y||(Z=[_t(d,"click",t[10]),_t(A,"change",t[11]),_t(T,"click",t[12])],Y=!0)},p:mt,d(E){E&&(n(f),n(s),n(g),n(O),n(P)),Y=!1,qt(Z)}}}function Bt(t){let f,c=t[22]+"",s;return{c(){f=o("td"),s=U(c)},l(g){f=a(g,"TD",{});var D=u(f);s=z(D,c),D.forEach(n)},m(g,D){ne(g,f,D),e(f,s)},p(g,D){D&512&&c!==(c=g[22]+"")&&K(s,c)},d(g){g&&n(f)}}}function Pt(t){let f,c,s=t[21]+1+"",g,D,H,w=We(t[19]),_=[];for(let b=0;b<w.length;b+=1)_[b]=Bt(Ft(t,w,b));return{c(){f=o("tr"),c=o("th"),g=U(s),D=h();for(let b=0;b<_.length;b+=1)_[b].c();H=h(),this.h()},l(b){f=a(b,"TR",{class:!0});var m=u(f);c=a(m,"TH",{});var d=u(c);g=z(d,s),d.forEach(n),D=p(m);for(let V=0;V<_.length;V+=1)_[V].l(m);H=p(m),m.forEach(n),this.h()},h(){r(f,"class","hover")},m(b,m){ne(b,f,m),e(f,c),e(c,g),e(f,D);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(f,null);e(f,H)},p(b,m){if(m&512){w=We(b[19]);let d;for(d=0;d<w.length;d+=1){const V=Ft(b,w,d);_[d]?_[d].p(V,m):(_[d]=Bt(V),_[d].c(),_[d].m(f,H))}for(;d<_.length;d+=1)_[d].d(1);_.length=w.length}},d(b){b&&n(f),Yt(_,b)}}}function xt(t){let f,c,s,g,D,H,w,_="Your Score",b,m,d,V,W=I(t[4]/(t[4]+t[1]))+"",B,G,k,_e="Puzzles Completed",le,A,te,X,i,v,S=I(t[4]/(t[4]+t[1]))+"",L,T,J,O,P,Y,Z=I(t[3]/(t[2]+t[3]))+"",E,F,R,Ue="Number of Hints Used",ie,se,oe,Ee,q,Xe,ze=I(t[3]/(t[2]+t[3]))+"",Ae,Ze,$e,je,xe,we,gt="Others' Scores",et,$,ye,ae,He=I(t[8]/(t[8]+t[5]))+"",Fe,tt,me,bt="Puzzles Completed",lt,Ie,Me,st,de,ot,Le=I(t[8]/(t[8]+t[5]))+"",Be,at,rt,x,Ce,re,ke=I(t[7]/(t[6]+t[7]))+"",Pe,nt,ge,Dt="Number of Hints Used",it,Ve,Ye,dt,ue,ut,Se=I(t[7]/(t[6]+t[7]))+"",Ge,ct,ft,Ne,vt,be,ce,Te,Et="<tr><th></th> <th>Username</th> <th>Puzzles Completed</th> <th>Hints Stored</th> <th>Hints Used</th> <th>Give Ups</th></tr>",ht,De,M=t[0]=="notAnAdmin"&&Mt(t),Oe=We(t[9]),N=[];for(let l=0;l<Oe.length;l+=1)N[l]=Pt(At(t,Oe,l));return{c(){f=h(),c=o("div"),s=o("div"),g=o("div"),D=h(),M&&M.c(),H=h(),w=o("h2"),w.textContent=_,b=h(),m=o("div"),d=o("div"),V=o("div"),B=U(W),G=h(),k=o("div"),k.textContent=_e,le=h(),A=o("div"),te=U(t[1]),X=h(),i=o("div"),v=U("You gave up "),L=U(S),T=U("% of the puzzles"),J=h(),O=o("div"),P=o("div"),Y=o("div"),E=U(Z),F=h(),R=o("div"),R.textContent=Ue,ie=h(),se=o("div"),oe=U(t[3]),Ee=h(),q=o("div"),Xe=U("You used "),Ae=U(ze),Ze=U("% of your total hints"),$e=h(),je=o("div"),xe=h(),we=o("h2"),we.textContent=gt,et=h(),$=o("div"),ye=o("div"),ae=o("div"),Fe=U(He),tt=h(),me=o("div"),me.textContent=bt,lt=h(),Ie=o("div"),Me=U(t[5]),st=h(),de=o("div"),ot=U("Others gave up "),Be=U(Le),at=U("% of the puzzles"),rt=h(),x=o("div"),Ce=o("div"),re=o("div"),Pe=U(ke),nt=h(),ge=o("div"),ge.textContent=Dt,it=h(),Ve=o("div"),Ye=U(t[7]),dt=h(),ue=o("div"),ut=U("Others used "),Ge=U(Se),ct=U("% of their total hints"),ft=h(),Ne=o("div"),vt=h(),be=o("div"),ce=o("table"),Te=o("thead"),Te.innerHTML=Et,ht=h(),De=o("tbody");for(let l=0;l<N.length;l+=1)N[l].c();this.h()},l(l){Wt("svelte-1jj56oi",Nt.head).forEach(n),f=p(l),c=a(l,"DIV",{class:!0});var j=u(c);s=a(j,"DIV",{});var y=u(s);g=a(y,"DIV",{class:!0}),u(g).forEach(n),D=p(y),M&&M.l(y),H=p(y),w=a(y,"H2",{"data-svelte-h":!0}),Q(w)!=="svelte-1fdvqrz"&&(w.textContent=_),b=p(y),m=a(y,"DIV",{class:!0});var fe=u(m);d=a(fe,"DIV",{class:!0});var wt=u(d);V=a(wt,"DIV",{class:!0,style:!0,role:!0});var yt=u(V);B=z(yt,W),yt.forEach(n),wt.forEach(n),G=p(fe),k=a(fe,"DIV",{class:!0,"data-svelte-h":!0}),Q(k)!=="svelte-2j8wjg"&&(k.textContent=_e),le=p(fe),A=a(fe,"DIV",{class:!0});var It=u(A);te=z(It,t[1]),It.forEach(n),X=p(fe),i=a(fe,"DIV",{class:!0});var Re=u(i);v=z(Re,"You gave up "),L=z(Re,S),T=z(Re,"% of the puzzles"),Re.forEach(n),fe.forEach(n),J=p(y),O=a(y,"DIV",{class:!0});var ve=u(O);P=a(ve,"DIV",{class:!0});var Ct=u(P);Y=a(Ct,"DIV",{class:!0,style:!0,role:!0});var Vt=u(Y);E=z(Vt,Z),Vt.forEach(n),Ct.forEach(n),F=p(ve),R=a(ve,"DIV",{class:!0,"data-svelte-h":!0}),Q(R)!=="svelte-d298vz"&&(R.textContent=Ue),ie=p(ve),se=a(ve,"DIV",{class:!0});var Tt=u(se);oe=z(Tt,t[3]),Tt.forEach(n),Ee=p(ve),q=a(ve,"DIV",{class:!0});var Je=u(q);Xe=z(Je,"You used "),Ae=z(Je,ze),Ze=z(Je,"% of your total hints"),Je.forEach(n),ve.forEach(n),$e=p(y),je=a(y,"DIV",{class:!0}),u(je).forEach(n),xe=p(y),we=a(y,"H2",{"data-svelte-h":!0}),Q(we)!=="svelte-hjlgk9"&&(we.textContent=gt),et=p(y),$=a(y,"DIV",{class:!0});var he=u($);ye=a(he,"DIV",{class:!0});var Ot=u(ye);ae=a(Ot,"DIV",{class:!0,style:!0,role:!0});var Ut=u(ae);Fe=z(Ut,He),Ut.forEach(n),Ot.forEach(n),tt=p(he),me=a(he,"DIV",{class:!0,"data-svelte-h":!0}),Q(me)!=="svelte-2j8wjg"&&(me.textContent=bt),lt=p(he),Ie=a(he,"DIV",{class:!0});var zt=u(Ie);Me=z(zt,t[5]),zt.forEach(n),st=p(he),de=a(he,"DIV",{class:!0});var qe=u(de);ot=z(qe,"Others gave up "),Be=z(qe,Le),at=z(qe,"% of the puzzles"),qe.forEach(n),he.forEach(n),rt=p(y),x=a(y,"DIV",{class:!0});var pe=u(x);Ce=a(pe,"DIV",{class:!0});var jt=u(Ce);re=a(jt,"DIV",{class:!0,style:!0,role:!0});var Ht=u(re);Pe=z(Ht,ke),Ht.forEach(n),jt.forEach(n),nt=p(pe),ge=a(pe,"DIV",{class:!0,"data-svelte-h":!0}),Q(ge)!=="svelte-d298vz"&&(ge.textContent=Dt),it=p(pe),Ve=a(pe,"DIV",{class:!0});var Lt=u(Ve);Ye=z(Lt,t[7]),Lt.forEach(n),dt=p(pe),ue=a(pe,"DIV",{class:!0});var Ke=u(ue);ut=z(Ke,"Others used "),Ge=z(Ke,Se),ct=z(Ke,"% of their total hints"),Ke.forEach(n),pe.forEach(n),ft=p(y),Ne=a(y,"DIV",{class:!0}),u(Ne).forEach(n),vt=p(y),be=a(y,"DIV",{class:!0,style:!0});var kt=u(be);ce=a(kt,"TABLE",{class:!0});var Qe=u(ce);Te=a(Qe,"THEAD",{"data-svelte-h":!0}),Q(Te)!=="svelte-w1p7dy"&&(Te.innerHTML=Et),ht=p(Qe),De=a(Qe,"TBODY",{id:!0});var St=u(De);for(let pt=0;pt<N.length;pt+=1)N[pt].l(St);St.forEach(n),Qe.forEach(n),kt.forEach(n),y.forEach(n),j.forEach(n),this.h()},h(){Nt.title="Score",r(g,"class","pt-2"),r(V,"class","radial-progress"),ee(V,"--value",I(t[4]/(t[4]+t[1]))),r(V,"role","progressbar"),r(d,"class","stat-figure text-secondary"),r(k,"class","stat-title"),r(A,"class","stat-value"),r(i,"class","stat-desc"),r(m,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(Y,"class","radial-progress"),ee(Y,"--value",I(t[3]/(t[2]+t[3]))),r(Y,"role","progressbar"),r(P,"class","stat-figure text-secondary"),r(R,"class","stat-title"),r(se,"class","stat-value"),r(q,"class","stat-desc"),r(O,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(je,"class","pt-12"),r(ae,"class","radial-progress"),ee(ae,"--value",I(t[8]/(t[8]+t[5]))),r(ae,"role","progressbar"),r(ye,"class","stat-figure text-secondary"),r(me,"class","stat-title"),r(Ie,"class","stat-value"),r(de,"class","stat-desc"),r($,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(re,"class","radial-progress"),ee(re,"--value",I(t[7]/(t[6]+t[7]))),r(re,"role","progressbar"),r(Ce,"class","stat-figure text-secondary"),r(ge,"class","stat-title"),r(Ve,"class","stat-value"),r(ue,"class","stat-desc"),r(x,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(Ne,"class","pt-12"),r(De,"id","tableBody"),r(ce,"class","table table-pin-rows"),r(be,"class","overflow-x-auto overflow-y-auto"),ee(be,"max-height","25vh"),r(c,"class","text-column")},m(l,C){ne(l,f,C),ne(l,c,C),e(c,s),e(s,g),e(s,D),M&&M.m(s,null),e(s,H),e(s,w),e(s,b),e(s,m),e(m,d),e(d,V),e(V,B),e(m,G),e(m,k),e(m,le),e(m,A),e(A,te),e(m,X),e(m,i),e(i,v),e(i,L),e(i,T),e(s,J),e(s,O),e(O,P),e(P,Y),e(Y,E),e(O,F),e(O,R),e(O,ie),e(O,se),e(se,oe),e(O,Ee),e(O,q),e(q,Xe),e(q,Ae),e(q,Ze),e(s,$e),e(s,je),e(s,xe),e(s,we),e(s,et),e(s,$),e($,ye),e(ye,ae),e(ae,Fe),e($,tt),e($,me),e($,lt),e($,Ie),e(Ie,Me),e($,st),e($,de),e(de,ot),e(de,Be),e(de,at),e(s,rt),e(s,x),e(x,Ce),e(Ce,re),e(re,Pe),e(x,nt),e(x,ge),e(x,it),e(x,Ve),e(Ve,Ye),e(x,dt),e(x,ue),e(ue,ut),e(ue,Ge),e(ue,ct),e(s,ft),e(s,Ne),e(s,vt),e(s,be),e(be,ce),e(ce,Te),e(ce,ht),e(ce,De);for(let j=0;j<N.length;j+=1)N[j]&&N[j].m(De,null)},p(l,[C]){if(l[0]=="notAnAdmin"?M?M.p(l,C):(M=Mt(l),M.c(),M.m(s,H)):M&&(M.d(1),M=null),C&18&&W!==(W=I(l[4]/(l[4]+l[1]))+"")&&K(B,W),C&18&&ee(V,"--value",I(l[4]/(l[4]+l[1]))),C&2&&K(te,l[1]),C&18&&S!==(S=I(l[4]/(l[4]+l[1]))+"")&&K(L,S),C&12&&Z!==(Z=I(l[3]/(l[2]+l[3]))+"")&&K(E,Z),C&12&&ee(Y,"--value",I(l[3]/(l[2]+l[3]))),C&8&&K(oe,l[3]),C&12&&ze!==(ze=I(l[3]/(l[2]+l[3]))+"")&&K(Ae,ze),C&288&&He!==(He=I(l[8]/(l[8]+l[5]))+"")&&K(Fe,He),C&288&&ee(ae,"--value",I(l[8]/(l[8]+l[5]))),C&32&&K(Me,l[5]),C&288&&Le!==(Le=I(l[8]/(l[8]+l[5]))+"")&&K(Be,Le),C&192&&ke!==(ke=I(l[7]/(l[6]+l[7]))+"")&&K(Pe,ke),C&192&&ee(re,"--value",I(l[7]/(l[6]+l[7]))),C&128&&K(Ye,l[7]),C&192&&Se!==(Se=I(l[7]/(l[6]+l[7]))+"")&&K(Ge,Se),C&512){Oe=We(l[9]);let j;for(j=0;j<Oe.length;j+=1){const y=At(l,Oe,j);N[j]?N[j].p(y,C):(N[j]=Pt(y),N[j].c(),N[j].m(De,null))}for(;j<N.length;j+=1)N[j].d(1);N.length=Oe.length}},i:mt,o:mt,d(l){l&&(n(f),n(c)),M&&M.d(),Yt(N,l)}}}function I(t){return isNaN(t)?0 .toFixed(2):(t*100).toFixed(2)}function el(t,f,c){var s=this&&this.__awaiter||function(i,v,S,L){function T(J){return J instanceof S?J:new S(function(O){O(J)})}return new(S||(S=Promise))(function(J,O){function P(E){try{Z(L.next(E))}catch(F){O(F)}}function Y(E){try{Z(L.throw(E))}catch(F){O(F)}}function Z(E){E.done?J(E.value):T(E.value).then(P,Y)}Z((L=L.apply(i,v||[])).next())})};let g="",D,H,w,_,b,m,d,V,W,B=[["p1",100,25,0,1],["p2",80,35,10,1],["p3",75,15,0,1],["p4",20,7,5,1],["p5",10,4,4,1]];function G(){return s(this,void 0,void 0,function*(){try{const i=yield fetch("/getTotals");if(!i.ok)throw new Error("Failed to fetch totals");const v=yield i.json();c(5,m=v.total_puzzle_completed),c(6,d=v.total_num_of_hints),c(7,V=v.total_num_of_hints_used),c(8,W=v.total_num_of_give_ups_used)}catch(i){console.error(i)}})}function k(){return s(this,void 0,void 0,function*(){try{const i=yield fetch("/getTopScores");if(!i.ok)throw new Error("Failed to fetch top scores");const v=yield i.json();c(9,B=v),console.log(B)}catch(i){console.error(i)}})}function _e(){return s(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/protected")).json();console.log(v.loggedIn),v.loggedIn?le():window.location.href="/"}catch(i){console.error("Error fetching data:",i)}})}function le(){return s(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/getUserInfo")).json();c(0,g=v.username),D=v.userType,c(1,H=v.puzzleCompleted),c(2,w=v.numOfHints),c(3,_=v.numOfHintsUsed),c(4,b=v.numOfGiveUpsUsed)}catch(i){console.error("Error fetching data:",i)}})}Jt(()=>{_e(),k(),G()});function A(){return s(this,void 0,void 0,function*(){try{const i=yield fetch("/saveInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!i.ok)throw new Error("Failed to save information");const v=i.headers.get("Content-Disposition").split("filename=")[1],S=yield i.blob(),L=window.URL.createObjectURL(S),T=document.createElement("a");T.href=L,T.download=v,T.click(),window.URL.revokeObjectURL(L)}catch(i){console.error("Error:",i)}})}function te(i){return s(this,void 0,void 0,function*(){try{const S=yield i.target.files[0].text(),L=JSON.parse(S);console.log(L);const T=yield fetch("/loadInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!T.ok)throw new Error("Failed to upload user info");const J=yield T.json()}catch(v){console.error("Error:",v)}})}function X(){return s(this,void 0,void 0,function*(){try{const i=yield fetch("/clearData",{method:"GET"});if(!i.ok)throw new Error("Failed to clear data");const v=yield i.json();window.location.href="/"}catch(i){console.error("Error:",i)}})}return[g,H,w,_,b,m,d,V,W,B,A,te,X]}class rl extends Kt{constructor(f){super(),Qt(this,f,el,xt,Rt,{})}}export{rl as component,al as universal};
