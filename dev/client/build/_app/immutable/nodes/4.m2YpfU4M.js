import{d as Gt}from"../chunks/index.R8ovVqwX.js";import{s as Nt,n as Tt,o as Pt}from"../chunks/scheduler.Ce_0Mfso.js";import{S as Lt,i as Mt,s as c,e as a,t as q,k as Bt,d as n,f,c as r,a as h,l as ve,b as E,m as o,n as B,g as Me,h as e,j,o as Yt}from"../chunks/index.DTvPRYe7.js";import{e as Be}from"../chunks/each.D6YF6ztN.js";const At=Gt,Wt=!0,$t=Object.freeze(Object.defineProperty({__proto__:null,csr:At,prerender:Wt},Symbol.toStringTag,{value:"Module"}));function jt(t,u,i){const l=t.slice();return l[16]=u[i],l[18]=i,l}function kt(t,u,i){const l=t.slice();return l[19]=u[i],l[21]=i,l}function St(t){let u,i=t[19]+"",l;return{c(){u=a("td"),l=q(i),this.h()},l(V){u=r(V,"TD",{class:!0});var b=h(u);l=E(b,i),b.forEach(n),this.h()},h(){o(u,"class","svelte-wioz8q")},m(V,b){Me(V,u,b),e(u,l)},p(V,b){b&256&&i!==(i=V[19]+"")&&j(l,i)},d(V){V&&n(u)}}}function Ft(t){let u,i,l=t[18]+1+"",V,b,U,k=Be(t[16]),_=[];for(let d=0;d<k.length;d+=1)_[d]=St(kt(t,k,d));return{c(){u=a("tr"),i=a("th"),V=q(l),b=c();for(let d=0;d<_.length;d+=1)_[d].c();U=c(),this.h()},l(d){u=r(d,"TR",{class:!0});var D=h(u);i=r(D,"TH",{class:!0});var v=h(i);V=E(v,l),v.forEach(n),b=f(D);for(let O=0;O<_.length;O+=1)_[O].l(D);U=f(D),D.forEach(n),this.h()},h(){o(i,"class","svelte-wioz8q"),o(u,"class","hover svelte-wioz8q")},m(d,D){Me(d,u,D),e(u,i),e(i,V),e(u,b);for(let v=0;v<_.length;v+=1)_[v]&&_[v].m(u,null);e(u,U)},p(d,D){if(D&256){k=Be(d[16]);let v;for(v=0;v<k.length;v+=1){const O=kt(d,k,v);_[v]?_[v].p(O,D):(_[v]=St(O),_[v].c(),_[v].m(u,U))}for(;v<_.length;v+=1)_[v].d(1);_.length=k.length}},d(d){d&&n(u),Yt(_,d)}}}function Rt(t){let u,i,l,V,b,U,k="Your Score",_,d,D,v,O=p(t[3]/(t[3]+t[0]))+"",te,se,N,Ce="Puzzles Completed Without Giving Up",we,A,w,g,T,W,le=p(t[3]/(t[3]+t[0]))+"",Y,R,ge,H,G,y,P=p(t[2]/(t[1]+t[2]))+"",be,Ae,oe,ct="Number of Hints Used",We,ue,Ue,Re,J,Je,me=p(t[2]/(t[1]+t[2]))+"",Oe,Ke,Qe,qe,Xe,ae,ft="Others' Scores",Ze,S,he,L,Ee=p(t[7]/(t[7]+t[4]))+"",He,$e,re,_t="Puzzles Completed Without Giving Up",xe,ce,Te,et,K,tt,De=p(t[7]/(t[7]+t[4]))+"",je,st,lt,F,fe,M,Ie=p(t[6]/(t[5]+t[6]))+"",ke,ot,ie,pt="Number of Hints Used",at,_e,Se,rt,Q,it,Ve=p(t[6]/(t[5]+t[6]))+"",Fe,nt,dt,ye,vt,ne,X,pe,zt='<tr class="svelte-wioz8q"><th class="svelte-wioz8q"></th> <th class="svelte-wioz8q">Username</th> <th class="svelte-wioz8q">Puzzles Completed</th> <th class="svelte-wioz8q">Hints Stored</th> <th class="svelte-wioz8q">Hints Used</th></tr>',ut,de,ze=Be(t[8]),C=[];for(let s=0;s<ze.length;s+=1)C[s]=Ft(jt(t,ze,s));return{c(){u=c(),i=a("div"),l=a("div"),V=a("div"),b=c(),U=a("h2"),U.textContent=k,_=c(),d=a("div"),D=a("div"),v=a("div"),te=q(O),se=c(),N=a("div"),N.textContent=Ce,we=c(),A=a("div"),w=q(t[0]),g=c(),T=a("div"),W=q("You gave up "),Y=q(le),R=q("% of the puzzles"),ge=c(),H=a("div"),G=a("div"),y=a("div"),be=q(P),Ae=c(),oe=a("div"),oe.textContent=ct,We=c(),ue=a("div"),Ue=q(t[2]),Re=c(),J=a("div"),Je=q("You used "),Oe=q(me),Ke=q("% of your total hints"),Qe=c(),qe=a("div"),Xe=c(),ae=a("h2"),ae.textContent=ft,Ze=c(),S=a("div"),he=a("div"),L=a("div"),He=q(Ee),$e=c(),re=a("div"),re.textContent=_t,xe=c(),ce=a("div"),Te=q(t[4]),et=c(),K=a("div"),tt=q("Others gave up "),je=q(De),st=q("% of the puzzles"),lt=c(),F=a("div"),fe=a("div"),M=a("div"),ke=q(Ie),ot=c(),ie=a("div"),ie.textContent=pt,at=c(),_e=a("div"),Se=q(t[6]),rt=c(),Q=a("div"),it=q("Others used "),Fe=q(Ve),nt=q("% of their total hints"),dt=c(),ye=a("div"),vt=c(),ne=a("div"),X=a("table"),pe=a("thead"),pe.innerHTML=zt,ut=c(),de=a("tbody");for(let s=0;s<C.length;s+=1)C[s].c();this.h()},l(s){Bt("svelte-1jj56oi",document.head).forEach(n),u=f(s),i=r(s,"DIV",{class:!0});var I=h(i);l=r(I,"DIV",{class:!0});var z=h(l);V=r(z,"DIV",{class:!0}),h(V).forEach(n),b=f(z),U=r(z,"H2",{class:!0,"data-svelte-h":!0}),ve(U)!=="svelte-1fdvqrz"&&(U.textContent=k),_=f(z),d=r(z,"DIV",{class:!0});var Z=h(d);D=r(Z,"DIV",{class:!0});var wt=h(D);v=r(wt,"DIV",{class:!0,style:!0,role:!0});var gt=h(v);te=E(gt,O),gt.forEach(n),wt.forEach(n),se=f(Z),N=r(Z,"DIV",{class:!0,"data-svelte-h":!0}),ve(N)!=="svelte-welfwh"&&(N.textContent=Ce),we=f(Z),A=r(Z,"DIV",{class:!0});var mt=h(A);w=E(mt,t[0]),mt.forEach(n),g=f(Z),T=r(Z,"DIV",{class:!0});var Ye=h(T);W=E(Ye,"You gave up "),Y=E(Ye,le),R=E(Ye,"% of the puzzles"),Ye.forEach(n),Z.forEach(n),ge=f(z),H=r(z,"DIV",{class:!0});var $=h(H);G=r($,"DIV",{class:!0});var qt=h(G);y=r(qt,"DIV",{class:!0,style:!0,role:!0});var Et=h(y);be=E(Et,P),Et.forEach(n),qt.forEach(n),Ae=f($),oe=r($,"DIV",{class:!0,"data-svelte-h":!0}),ve(oe)!=="svelte-d298vz"&&(oe.textContent=ct),We=f($),ue=r($,"DIV",{class:!0});var Dt=h(ue);Ue=E(Dt,t[2]),Dt.forEach(n),Re=f($),J=r($,"DIV",{class:!0});var Ge=h(J);Je=E(Ge,"You used "),Oe=E(Ge,me),Ke=E(Ge,"% of your total hints"),Ge.forEach(n),$.forEach(n),Qe=f(z),qe=r(z,"DIV",{class:!0}),h(qe).forEach(n),Xe=f(z),ae=r(z,"H2",{class:!0,"data-svelte-h":!0}),ve(ae)!=="svelte-hjlgk9"&&(ae.textContent=ft),Ze=f(z),S=r(z,"DIV",{class:!0});var x=h(S);he=r(x,"DIV",{class:!0});var It=h(he);L=r(It,"DIV",{class:!0,style:!0,role:!0});var Vt=h(L);He=E(Vt,Ee),Vt.forEach(n),It.forEach(n),$e=f(x),re=r(x,"DIV",{class:!0,"data-svelte-h":!0}),ve(re)!=="svelte-welfwh"&&(re.textContent=_t),xe=f(x),ce=r(x,"DIV",{class:!0});var yt=h(ce);Te=E(yt,t[4]),yt.forEach(n),et=f(x),K=r(x,"DIV",{class:!0});var Ne=h(K);tt=E(Ne,"Others gave up "),je=E(Ne,De),st=E(Ne,"% of the puzzles"),Ne.forEach(n),x.forEach(n),lt=f(z),F=r(z,"DIV",{class:!0});var ee=h(F);fe=r(ee,"DIV",{class:!0});var Ct=h(fe);M=r(Ct,"DIV",{class:!0,style:!0,role:!0});var bt=h(M);ke=E(bt,Ie),bt.forEach(n),Ct.forEach(n),ot=f(ee),ie=r(ee,"DIV",{class:!0,"data-svelte-h":!0}),ve(ie)!=="svelte-d298vz"&&(ie.textContent=pt),at=f(ee),_e=r(ee,"DIV",{class:!0});var Ut=h(_e);Se=E(Ut,t[6]),Ut.forEach(n),rt=f(ee),Q=r(ee,"DIV",{class:!0});var Pe=h(Q);it=E(Pe,"Others used "),Fe=E(Pe,Ve),nt=E(Pe,"% of their total hints"),Pe.forEach(n),ee.forEach(n),dt=f(z),ye=r(z,"DIV",{class:!0}),h(ye).forEach(n),vt=f(z),ne=r(z,"DIV",{class:!0,style:!0});var Ot=h(ne);X=r(Ot,"TABLE",{class:!0});var Le=h(X);pe=r(Le,"THEAD",{"data-svelte-h":!0}),ve(pe)!=="svelte-1sgva4g"&&(pe.innerHTML=zt),ut=f(Le),de=r(Le,"TBODY",{id:!0});var Ht=h(de);for(let ht=0;ht<C.length;ht+=1)C[ht].l(Ht);Ht.forEach(n),Le.forEach(n),Ot.forEach(n),z.forEach(n),I.forEach(n),this.h()},h(){document.title="Score",o(V,"class","pt-2 svelte-wioz8q"),o(U,"class","svelte-wioz8q"),o(v,"class","radial-progress svelte-wioz8q"),B(v,"--value",p(t[3]/(t[3]+t[0]))),o(v,"role","progressbar"),o(D,"class","stat-figure text-secondary svelte-wioz8q"),o(N,"class","stat-title svelte-wioz8q"),o(A,"class","stat-value svelte-wioz8q"),o(T,"class","stat-desc svelte-wioz8q"),o(d,"class","stat card shadow-xl rounded-3xl statDisplay pt-8 svelte-wioz8q"),o(y,"class","radial-progress svelte-wioz8q"),B(y,"--value",p(t[2]/(t[1]+t[2]))),o(y,"role","progressbar"),o(G,"class","stat-figure text-secondary svelte-wioz8q"),o(oe,"class","stat-title svelte-wioz8q"),o(ue,"class","stat-value svelte-wioz8q"),o(J,"class","stat-desc svelte-wioz8q"),o(H,"class","stat card shadow-xl rounded-3xl statDisplay pt-8 svelte-wioz8q"),o(qe,"class","pt-12 svelte-wioz8q"),o(ae,"class","svelte-wioz8q"),o(L,"class","radial-progress svelte-wioz8q"),B(L,"--value",p(t[7]/(t[7]+t[4]))),o(L,"role","progressbar"),o(he,"class","stat-figure text-secondary svelte-wioz8q"),o(re,"class","stat-title svelte-wioz8q"),o(ce,"class","stat-value svelte-wioz8q"),o(K,"class","stat-desc svelte-wioz8q"),o(S,"class","stat card shadow-xl rounded-3xl statDisplay pt-8 svelte-wioz8q"),o(M,"class","radial-progress svelte-wioz8q"),B(M,"--value",p(t[6]/(t[5]+t[6]))),o(M,"role","progressbar"),o(fe,"class","stat-figure text-secondary svelte-wioz8q"),o(ie,"class","stat-title svelte-wioz8q"),o(_e,"class","stat-value svelte-wioz8q"),o(Q,"class","stat-desc svelte-wioz8q"),o(F,"class","stat card shadow-xl rounded-3xl statDisplay pt-8 svelte-wioz8q"),o(ye,"class","pt-12 svelte-wioz8q"),o(de,"id","tableBody"),o(X,"class","table table-pin-rows"),o(ne,"class","overflow-x-auto overflow-y-auto svelte-wioz8q"),B(ne,"max-height","25vh"),o(l,"class","svelte-wioz8q"),o(i,"class","text-column svelte-wioz8q")},m(s,m){Me(s,u,m),Me(s,i,m),e(i,l),e(l,V),e(l,b),e(l,U),e(l,_),e(l,d),e(d,D),e(D,v),e(v,te),e(d,se),e(d,N),e(d,we),e(d,A),e(A,w),e(d,g),e(d,T),e(T,W),e(T,Y),e(T,R),e(l,ge),e(l,H),e(H,G),e(G,y),e(y,be),e(H,Ae),e(H,oe),e(H,We),e(H,ue),e(ue,Ue),e(H,Re),e(H,J),e(J,Je),e(J,Oe),e(J,Ke),e(l,Qe),e(l,qe),e(l,Xe),e(l,ae),e(l,Ze),e(l,S),e(S,he),e(he,L),e(L,He),e(S,$e),e(S,re),e(S,xe),e(S,ce),e(ce,Te),e(S,et),e(S,K),e(K,tt),e(K,je),e(K,st),e(l,lt),e(l,F),e(F,fe),e(fe,M),e(M,ke),e(F,ot),e(F,ie),e(F,at),e(F,_e),e(_e,Se),e(F,rt),e(F,Q),e(Q,it),e(Q,Fe),e(Q,nt),e(l,dt),e(l,ye),e(l,vt),e(l,ne),e(ne,X),e(X,pe),e(X,ut),e(X,de);for(let I=0;I<C.length;I+=1)C[I]&&C[I].m(de,null)},p(s,[m]){if(m&9&&O!==(O=p(s[3]/(s[3]+s[0]))+"")&&j(te,O),m&9&&B(v,"--value",p(s[3]/(s[3]+s[0]))),m&1&&j(w,s[0]),m&9&&le!==(le=p(s[3]/(s[3]+s[0]))+"")&&j(Y,le),m&6&&P!==(P=p(s[2]/(s[1]+s[2]))+"")&&j(be,P),m&6&&B(y,"--value",p(s[2]/(s[1]+s[2]))),m&4&&j(Ue,s[2]),m&6&&me!==(me=p(s[2]/(s[1]+s[2]))+"")&&j(Oe,me),m&144&&Ee!==(Ee=p(s[7]/(s[7]+s[4]))+"")&&j(He,Ee),m&144&&B(L,"--value",p(s[7]/(s[7]+s[4]))),m&16&&j(Te,s[4]),m&144&&De!==(De=p(s[7]/(s[7]+s[4]))+"")&&j(je,De),m&96&&Ie!==(Ie=p(s[6]/(s[5]+s[6]))+"")&&j(ke,Ie),m&96&&B(M,"--value",p(s[6]/(s[5]+s[6]))),m&64&&j(Se,s[6]),m&96&&Ve!==(Ve=p(s[6]/(s[5]+s[6]))+"")&&j(Fe,Ve),m&256){ze=Be(s[8]);let I;for(I=0;I<ze.length;I+=1){const z=jt(s,ze,I);C[I]?C[I].p(z,m):(C[I]=Ft(z),C[I].c(),C[I].m(de,null))}for(;I<C.length;I+=1)C[I].d(1);C.length=ze.length}},i:Tt,o:Tt,d(s){s&&(n(u),n(i)),Yt(C,s)}}}function p(t){return(t*100).toFixed(2)}function Jt(t,u,i){var l=this&&this.__awaiter||function(w,g,T,W){function le(Y){return Y instanceof T?Y:new T(function(R){R(Y)})}return new(T||(T=Promise))(function(Y,R){function ge(y){try{G(W.next(y))}catch(P){R(P)}}function H(y){try{G(W.throw(y))}catch(P){R(P)}}function G(y){y.done?Y(y.value):le(y.value).then(ge,H)}G((W=W.apply(w,g||[])).next())})};let V,b,U,k,_,d,D,v,O,te,se=[["p1",100,25,0],["p2",80,35,10],["p3",75,15,0],["p4",20,7,5],["p5",10,4,4]];function N(){return l(this,void 0,void 0,function*(){try{const w=yield fetch("/getTotals");if(!w.ok)throw new Error("Failed to fetch totals");const g=yield w.json();i(4,D=g.total_puzzle_completed),i(5,v=g.total_num_of_hints),i(6,O=g.total_num_of_hints_used),i(7,te=g.total_num_of_give_ups_used)}catch(w){console.error(w)}})}function Ce(){return l(this,void 0,void 0,function*(){try{const w=yield fetch("/getTopScores");if(!w.ok)throw new Error("Failed to fetch top scores");const g=yield w.json();i(8,se=g),console.log(se)}catch(w){console.error(w)}})}function we(){return l(this,void 0,void 0,function*(){try{const g=yield(yield fetch("/protected")).json();console.log(g.loggedIn),g.loggedIn?A():window.location.href="/"}catch(w){console.error("Error fetching data:",w)}})}function A(){return l(this,void 0,void 0,function*(){try{const g=yield(yield fetch("/getUserInfo")).json();V=g.username,b=g.userType,i(0,U=g.puzzleCompleted),i(1,k=g.numOfHints),i(2,_=g.numOfHintsUsed),i(3,d=g.numOfGiveUpsUsed)}catch(w){console.error("Error fetching data:",w)}})}return Pt(()=>{we(),Ce(),N()}),[U,k,_,d,D,v,O,te,se]}class xt extends Lt{constructor(u){super(),Mt(this,u,Jt,Rt,Nt,{})}}export{xt as component,$t as universal};
