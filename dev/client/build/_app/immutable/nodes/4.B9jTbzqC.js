import{d as Pt}from"../chunks/index.R8ovVqwX.js";import{s as Lt,n as jt,o as Mt}from"../chunks/scheduler.Ce_0Mfso.js";import{S as Bt,i as Gt,s as h,e as o,t as I,k as qt,d as n,f as c,c as a,a as v,l as de,b as V,m as r,n as q,g as Ge,h as e,j as k,o as Nt}from"../chunks/index.DTvPRYe7.js";import{e as qe}from"../chunks/each.D6YF6ztN.js";function kt(t,f,i){const l=t.slice();return l[16]=f[i],l[18]=i,l}function St(t,f,i){const l=t.slice();return l[19]=f[i],l[21]=i,l}function Ft(t){let f,i=t[19]+"",l;return{c(){f=o("td"),l=I(i)},l(C){f=a(C,"TD",{});var O=v(f);l=V(O,i),O.forEach(n)},m(C,O){Ge(C,f,O),e(f,l)},p(C,O){O&256&&i!==(i=C[19]+"")&&k(l,i)},d(C){C&&n(f)}}}function Yt(t){let f,i,l=t[18]+1+"",C,O,U,S=qe(t[16]),_=[];for(let d=0;d<S.length;d+=1)_[d]=Ft(St(t,S,d));return{c(){f=o("tr"),i=o("th"),C=I(l),O=h();for(let d=0;d<_.length;d+=1)_[d].c();U=h(),this.h()},l(d){f=a(d,"TR",{class:!0});var y=v(f);i=a(y,"TH",{});var u=v(i);C=V(u,l),u.forEach(n),O=c(y);for(let H=0;H<_.length;H+=1)_[H].l(y);U=c(y),y.forEach(n),this.h()},h(){r(f,"class","hover")},m(d,y){Ge(d,f,y),e(f,i),e(i,C),e(f,O);for(let u=0;u<_.length;u+=1)_[u]&&_[u].m(f,null);e(f,U)},p(d,y){if(y&256){S=qe(d[16]);let u;for(u=0;u<S.length;u+=1){const H=St(d,S,u);_[u]?_[u].p(H,y):(_[u]=Ft(H),_[u].c(),_[u].m(f,U))}for(;u<_.length;u+=1)_[u].d(1);_.length=S.length}},d(d){d&&n(f),Nt(_,d)}}}function At(t){let f,i,l,C,O,U,S="Your Score",_,d,y,u,H=p(t[3]/(t[3]+t[0]))+"",te,se,L,we="Puzzles Completed",me,A,m,E,j,R,le=p(t[3]/(t[3]+t[0]))+"",N,J,Ee,T,P,b,M=p(t[2]/(t[1]+t[2]))+"",Oe,Ae,oe,ht="Number of Hints Used",Re,ue,He,Je,K,Ke,De=p(t[2]/(t[1]+t[2]))+"",Ue,Qe,We,Ie,Xe,ve,ct="Others' Scores",Ze,F,fe,B,Ve=p(t[7]/(t[7]+t[4]))+"",Te,$e,ae,_t="Puzzles Completed",xe,he,je,et,Q,tt,ye=p(t[7]/(t[7]+t[4]))+"",ke,st,lt,Y,ce,G,ze=p(t[6]/(t[5]+t[6]))+"",Se,ot,re,pt="Number of Hints Used",at,_e,Fe,rt,W,nt,Ce=p(t[6]/(t[5]+t[6]))+"",Ye,it,dt,be,ut,ne,X,pe,gt="<tr><th></th> <th>Username</th> <th>Puzzles Completed</th> <th>Hints Stored</th> <th>Hints Used</th></tr>",vt,ie,ge=qe(t[8]),w=[];for(let s=0;s<ge.length;s+=1)w[s]=Yt(kt(t,ge,s));return{c(){f=h(),i=o("div"),l=o("div"),C=o("div"),O=h(),U=o("h2"),U.textContent=S,_=h(),d=o("div"),y=o("div"),u=o("div"),te=I(H),se=h(),L=o("div"),L.textContent=we,me=h(),A=o("div"),m=I(t[0]),E=h(),j=o("div"),R=I("You gave up "),N=I(le),J=I("% of the puzzles"),Ee=h(),T=o("div"),P=o("div"),b=o("div"),Oe=I(M),Ae=h(),oe=o("div"),oe.textContent=ht,Re=h(),ue=o("div"),He=I(t[2]),Je=h(),K=o("div"),Ke=I("You used "),Ue=I(De),Qe=I("% of your total hints"),We=h(),Ie=o("div"),Xe=h(),ve=o("h2"),ve.textContent=ct,Ze=h(),F=o("div"),fe=o("div"),B=o("div"),Te=I(Ve),$e=h(),ae=o("div"),ae.textContent=_t,xe=h(),he=o("div"),je=I(t[4]),et=h(),Q=o("div"),tt=I("Others gave up "),ke=I(ye),st=I("% of the puzzles"),lt=h(),Y=o("div"),ce=o("div"),G=o("div"),Se=I(ze),ot=h(),re=o("div"),re.textContent=pt,at=h(),_e=o("div"),Fe=I(t[6]),rt=h(),W=o("div"),nt=I("Others used "),Ye=I(Ce),it=I("% of their total hints"),dt=h(),be=o("div"),ut=h(),ne=o("div"),X=o("table"),pe=o("thead"),pe.innerHTML=gt,vt=h(),ie=o("tbody");for(let s=0;s<w.length;s+=1)w[s].c();this.h()},l(s){qt("svelte-1jj56oi",document.head).forEach(n),f=c(s),i=a(s,"DIV",{class:!0});var z=v(i);l=a(z,"DIV",{});var g=v(l);C=a(g,"DIV",{class:!0}),v(C).forEach(n),O=c(g),U=a(g,"H2",{"data-svelte-h":!0}),de(U)!=="svelte-1fdvqrz"&&(U.textContent=S),_=c(g),d=a(g,"DIV",{class:!0});var Z=v(d);y=a(Z,"DIV",{class:!0});var mt=v(y);u=a(mt,"DIV",{class:!0,style:!0,role:!0});var Et=v(u);te=V(Et,H),Et.forEach(n),mt.forEach(n),se=c(Z),L=a(Z,"DIV",{class:!0,"data-svelte-h":!0}),de(L)!=="svelte-2j8wjg"&&(L.textContent=we),me=c(Z),A=a(Z,"DIV",{class:!0});var Dt=v(A);m=V(Dt,t[0]),Dt.forEach(n),E=c(Z),j=a(Z,"DIV",{class:!0});var Ne=v(j);R=V(Ne,"You gave up "),N=V(Ne,le),J=V(Ne,"% of the puzzles"),Ne.forEach(n),Z.forEach(n),Ee=c(g),T=a(g,"DIV",{class:!0});var $=v(T);P=a($,"DIV",{class:!0});var It=v(P);b=a(It,"DIV",{class:!0,style:!0,role:!0});var Vt=v(b);Oe=V(Vt,M),Vt.forEach(n),It.forEach(n),Ae=c($),oe=a($,"DIV",{class:!0,"data-svelte-h":!0}),de(oe)!=="svelte-d298vz"&&(oe.textContent=ht),Re=c($),ue=a($,"DIV",{class:!0});var yt=v(ue);He=V(yt,t[2]),yt.forEach(n),Je=c($),K=a($,"DIV",{class:!0});var Pe=v(K);Ke=V(Pe,"You used "),Ue=V(Pe,De),Qe=V(Pe,"% of your total hints"),Pe.forEach(n),$.forEach(n),We=c(g),Ie=a(g,"DIV",{class:!0}),v(Ie).forEach(n),Xe=c(g),ve=a(g,"H2",{"data-svelte-h":!0}),de(ve)!=="svelte-hjlgk9"&&(ve.textContent=ct),Ze=c(g),F=a(g,"DIV",{class:!0});var x=v(F);fe=a(x,"DIV",{class:!0});var zt=v(fe);B=a(zt,"DIV",{class:!0,style:!0,role:!0});var Ct=v(B);Te=V(Ct,Ve),Ct.forEach(n),zt.forEach(n),$e=c(x),ae=a(x,"DIV",{class:!0,"data-svelte-h":!0}),de(ae)!=="svelte-2j8wjg"&&(ae.textContent=_t),xe=c(x),he=a(x,"DIV",{class:!0});var bt=v(he);je=V(bt,t[4]),bt.forEach(n),et=c(x),Q=a(x,"DIV",{class:!0});var Le=v(Q);tt=V(Le,"Others gave up "),ke=V(Le,ye),st=V(Le,"% of the puzzles"),Le.forEach(n),x.forEach(n),lt=c(g),Y=a(g,"DIV",{class:!0});var ee=v(Y);ce=a(ee,"DIV",{class:!0});var wt=v(ce);G=a(wt,"DIV",{class:!0,style:!0,role:!0});var Ot=v(G);Se=V(Ot,ze),Ot.forEach(n),wt.forEach(n),ot=c(ee),re=a(ee,"DIV",{class:!0,"data-svelte-h":!0}),de(re)!=="svelte-d298vz"&&(re.textContent=pt),at=c(ee),_e=a(ee,"DIV",{class:!0});var Ht=v(_e);Fe=V(Ht,t[6]),Ht.forEach(n),rt=c(ee),W=a(ee,"DIV",{class:!0});var Me=v(W);nt=V(Me,"Others used "),Ye=V(Me,Ce),it=V(Me,"% of their total hints"),Me.forEach(n),ee.forEach(n),dt=c(g),be=a(g,"DIV",{class:!0}),v(be).forEach(n),ut=c(g),ne=a(g,"DIV",{class:!0,style:!0});var Ut=v(ne);X=a(Ut,"TABLE",{class:!0});var Be=v(X);pe=a(Be,"THEAD",{"data-svelte-h":!0}),de(pe)!=="svelte-1sgva4g"&&(pe.innerHTML=gt),vt=c(Be),ie=a(Be,"TBODY",{id:!0});var Tt=v(ie);for(let ft=0;ft<w.length;ft+=1)w[ft].l(Tt);Tt.forEach(n),Be.forEach(n),Ut.forEach(n),g.forEach(n),z.forEach(n),this.h()},h(){document.title="Score",r(C,"class","pt-2"),r(u,"class","radial-progress"),q(u,"--value",p(t[3]/(t[3]+t[0]))),r(u,"role","progressbar"),r(y,"class","stat-figure text-secondary"),r(L,"class","stat-title"),r(A,"class","stat-value"),r(j,"class","stat-desc"),r(d,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(b,"class","radial-progress"),q(b,"--value",p(t[2]/(t[1]+t[2]))),r(b,"role","progressbar"),r(P,"class","stat-figure text-secondary"),r(oe,"class","stat-title"),r(ue,"class","stat-value"),r(K,"class","stat-desc"),r(T,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(Ie,"class","pt-12"),r(B,"class","radial-progress"),q(B,"--value",p(t[7]/(t[7]+t[4]))),r(B,"role","progressbar"),r(fe,"class","stat-figure text-secondary"),r(ae,"class","stat-title"),r(he,"class","stat-value"),r(Q,"class","stat-desc"),r(F,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(G,"class","radial-progress"),q(G,"--value",p(t[6]/(t[5]+t[6]))),r(G,"role","progressbar"),r(ce,"class","stat-figure text-secondary"),r(re,"class","stat-title"),r(_e,"class","stat-value"),r(W,"class","stat-desc"),r(Y,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(be,"class","pt-12"),r(ie,"id","tableBody"),r(X,"class","table table-pin-rows"),r(ne,"class","overflow-x-auto overflow-y-auto"),q(ne,"max-height","25vh"),r(i,"class","text-column")},m(s,D){Ge(s,f,D),Ge(s,i,D),e(i,l),e(l,C),e(l,O),e(l,U),e(l,_),e(l,d),e(d,y),e(y,u),e(u,te),e(d,se),e(d,L),e(d,me),e(d,A),e(A,m),e(d,E),e(d,j),e(j,R),e(j,N),e(j,J),e(l,Ee),e(l,T),e(T,P),e(P,b),e(b,Oe),e(T,Ae),e(T,oe),e(T,Re),e(T,ue),e(ue,He),e(T,Je),e(T,K),e(K,Ke),e(K,Ue),e(K,Qe),e(l,We),e(l,Ie),e(l,Xe),e(l,ve),e(l,Ze),e(l,F),e(F,fe),e(fe,B),e(B,Te),e(F,$e),e(F,ae),e(F,xe),e(F,he),e(he,je),e(F,et),e(F,Q),e(Q,tt),e(Q,ke),e(Q,st),e(l,lt),e(l,Y),e(Y,ce),e(ce,G),e(G,Se),e(Y,ot),e(Y,re),e(Y,at),e(Y,_e),e(_e,Fe),e(Y,rt),e(Y,W),e(W,nt),e(W,Ye),e(W,it),e(l,dt),e(l,be),e(l,ut),e(l,ne),e(ne,X),e(X,pe),e(X,vt),e(X,ie);for(let z=0;z<w.length;z+=1)w[z]&&w[z].m(ie,null)},p(s,[D]){if(D&9&&H!==(H=p(s[3]/(s[3]+s[0]))+"")&&k(te,H),D&9&&q(u,"--value",p(s[3]/(s[3]+s[0]))),D&1&&k(m,s[0]),D&9&&le!==(le=p(s[3]/(s[3]+s[0]))+"")&&k(N,le),D&6&&M!==(M=p(s[2]/(s[1]+s[2]))+"")&&k(Oe,M),D&6&&q(b,"--value",p(s[2]/(s[1]+s[2]))),D&4&&k(He,s[2]),D&6&&De!==(De=p(s[2]/(s[1]+s[2]))+"")&&k(Ue,De),D&144&&Ve!==(Ve=p(s[7]/(s[7]+s[4]))+"")&&k(Te,Ve),D&144&&q(B,"--value",p(s[7]/(s[7]+s[4]))),D&16&&k(je,s[4]),D&144&&ye!==(ye=p(s[7]/(s[7]+s[4]))+"")&&k(ke,ye),D&96&&ze!==(ze=p(s[6]/(s[5]+s[6]))+"")&&k(Se,ze),D&96&&q(G,"--value",p(s[6]/(s[5]+s[6]))),D&64&&k(Fe,s[6]),D&96&&Ce!==(Ce=p(s[6]/(s[5]+s[6]))+"")&&k(Ye,Ce),D&256){ge=qe(s[8]);let z;for(z=0;z<ge.length;z+=1){const g=kt(s,ge,z);w[z]?w[z].p(g,D):(w[z]=Yt(g),w[z].c(),w[z].m(ie,null))}for(;z<w.length;z+=1)w[z].d(1);w.length=ge.length}},i:jt,o:jt,d(s){s&&(n(f),n(i)),Nt(w,s)}}}function p(t){return(t*100).toFixed(2)}function Rt(t,f,i){var l=this&&this.__awaiter||function(m,E,j,R){function le(N){return N instanceof j?N:new j(function(J){J(N)})}return new(j||(j=Promise))(function(N,J){function Ee(b){try{P(R.next(b))}catch(M){J(M)}}function T(b){try{P(R.throw(b))}catch(M){J(M)}}function P(b){b.done?N(b.value):le(b.value).then(Ee,T)}P((R=R.apply(m,E||[])).next())})};let C,O,U,S,_,d,y,u,H,te,se=[["p1",100,25,0],["p2",80,35,10],["p3",75,15,0],["p4",20,7,5],["p5",10,4,4]];function L(){return l(this,void 0,void 0,function*(){try{const m=yield fetch("/getTotals");if(!m.ok)throw new Error("Failed to fetch totals");const E=yield m.json();i(4,y=E.total_puzzle_completed),i(5,u=E.total_num_of_hints),i(6,H=E.total_num_of_hints_used),i(7,te=E.total_num_of_give_ups_used)}catch(m){console.error(m)}})}function we(){return l(this,void 0,void 0,function*(){try{const m=yield fetch("/getTopScores");if(!m.ok)throw new Error("Failed to fetch top scores");const E=yield m.json();i(8,se=E),console.log(se)}catch(m){console.error(m)}})}function me(){return l(this,void 0,void 0,function*(){try{const E=yield(yield fetch("/protected")).json();console.log(E.loggedIn),E.loggedIn?A():window.location.href="/"}catch(m){console.error("Error fetching data:",m)}})}function A(){return l(this,void 0,void 0,function*(){try{const E=yield(yield fetch("/getUserInfo")).json();C=E.username,O=E.userType,i(0,U=E.puzzleCompleted),i(1,S=E.numOfHints),i(2,_=E.numOfHintsUsed),i(3,d=E.numOfGiveUpsUsed)}catch(m){console.error("Error fetching data:",m)}})}return Mt(()=>{me(),we(),L()}),[U,S,_,d,y,u,H,te,se]}class $t extends Bt{constructor(f){super(),Gt(this,f,Rt,At,Lt,{})}}const Jt=Pt,Kt=!0,xt=Object.freeze(Object.defineProperty({__proto__:null,csr:Jt,prerender:Kt},Symbol.toStringTag,{value:"Module"}));export{$t as component,xt as universal};
