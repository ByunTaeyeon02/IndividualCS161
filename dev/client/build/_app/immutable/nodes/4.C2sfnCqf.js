import{d as Gt}from"../chunks/index.R8ovVqwX.js";import{s as Rt,n as mt,o as Jt,r as qt}from"../chunks/scheduler.Ce_0Mfso.js";import{S as Kt,i as Qt,s as h,e as s,t as O,k as Wt,d as n,f as p,c as o,a as d,l as J,b as U,m as r,n as R,g as ce,h as e,j as G,o as Yt,r as _t}from"../chunks/index.DTvPRYe7.js";import{e as Ze}from"../chunks/each.D6YF6ztN.js";const Xt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Zt=Gt,$t=!0,al=Object.freeze(Object.defineProperty({__proto__:null,csr:Zt,prerender:$t},Symbol.toStringTag,{value:"Module"})),{document:Nt}=Xt;function At(t,u,c){const a=t.slice();return a[19]=u[c],a[21]=c,a}function Ft(t,u,c){const a=t.slice();return a[22]=u[c],a[24]=c,a}function Mt(t){let u,c="Admin Only",a,b,E,H,w,_,D='<span class="label-text">Download Data</span>',m,f,g,$="All Users' Info",q,K,L,Q,ue='<span class="label-text">Upload Data (JSON)</span>',W,Y,oe,i,v,T,k='<span class="label-text">Clear Data</span>',A,S,y,x="Clear Data",F,M,B,le;return{c(){u=s("h2"),u.textContent=c,a=h(),b=s("div"),E=s("div"),H=s("div"),w=s("label"),_=s("div"),_.innerHTML=D,m=h(),f=s("td"),g=s("button"),g.textContent=$,q=h(),K=s("div"),L=s("label"),Q=s("div"),Q.innerHTML=ue,W=h(),Y=s("input"),oe=h(),i=s("div"),v=s("label"),T=s("div"),T.innerHTML=k,A=h(),S=s("td"),y=s("button"),y.textContent=x,F=h(),M=s("div"),this.h()},l(z){u=o(z,"H2",{"data-svelte-h":!0}),J(u)!=="svelte-1acc2ad"&&(u.textContent=c),a=p(z),b=o(z,"DIV",{class:!0});var ee=d(b);E=o(ee,"DIV",{class:!0});var se=d(E);H=o(se,"DIV",{class:!0});var ae=d(H);w=o(ae,"LABEL",{class:!0});var re=d(w);_=o(re,"DIV",{class:!0,"data-svelte-h":!0}),J(_)!=="svelte-v8wws8"&&(_.innerHTML=D),m=p(re),f=o(re,"TD",{style:!0});var Ce=d(f);g=o(Ce,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),J(g)!=="svelte-79ah9a"&&(g.textContent=$),Ce.forEach(n),re.forEach(n),ae.forEach(n),q=p(se),K=o(se,"DIV",{class:!0});var te=d(K);L=o(te,"LABEL",{class:!0});var fe=d(L);Q=o(fe,"DIV",{class:!0,"data-svelte-h":!0}),J(Q)!=="svelte-1fgqeem"&&(Q.innerHTML=ue),W=p(fe),Y=o(fe,"INPUT",{type:!0,class:!0,accept:!0}),fe.forEach(n),te.forEach(n),oe=p(se),i=o(se,"DIV",{class:!0});var ve=d(i);v=o(ve,"LABEL",{class:!0});var ne=d(v);T=o(ne,"DIV",{class:!0,"data-svelte-h":!0}),J(T)!=="svelte-jtpbn3"&&(T.innerHTML=k),A=p(ne),S=o(ne,"TD",{style:!0});var Ve=d(S);y=o(Ve,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),J(y)!=="svelte-6hm3nr"&&(y.textContent=x),Ve.forEach(n),ne.forEach(n),ve.forEach(n),se.forEach(n),ee.forEach(n),F=p(z),M=o(z,"DIV",{class:!0}),d(M).forEach(n),this.h()},h(){r(_,"class","label"),r(g,"class","btn btn-outline shadow-xl"),R(g,"width","100%"),R(f,"text-align","center"),r(w,"class","form-control w-full"),r(H,"class","stat"),r(Q,"class","label"),r(Y,"type","file"),r(Y,"class","file-input file-input-bordered w-full"),r(Y,"accept",".json"),r(L,"class","form-control w-full"),r(K,"class","stat"),r(T,"class","label"),r(y,"class","btn btn-outline shadow-xl"),R(y,"width","100%"),R(S,"text-align","center"),r(v,"class","form-control w-full"),r(i,"class","stat"),r(E,"class","stats"),r(b,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(M,"class","pt-12")},m(z,ee){ce(z,u,ee),ce(z,a,ee),ce(z,b,ee),e(b,E),e(E,H),e(H,w),e(w,_),e(w,m),e(w,f),e(f,g),e(E,q),e(E,K),e(K,L),e(L,Q),e(L,W),e(L,Y),e(E,oe),e(E,i),e(i,v),e(v,T),e(v,A),e(v,S),e(S,y),ce(z,F,ee),ce(z,M,ee),B||(le=[_t(g,"click",t[10]),_t(Y,"change",t[11]),_t(y,"click",t[12])],B=!0)},p:mt,d(z){z&&(n(u),n(a),n(b),n(F),n(M)),B=!1,qt(le)}}}function Bt(t){let u,c=t[22]+"",a;return{c(){u=s("td"),a=O(c)},l(b){u=o(b,"TD",{});var E=d(u);a=U(E,c),E.forEach(n)},m(b,E){ce(b,u,E),e(u,a)},p(b,E){E&512&&c!==(c=b[22]+"")&&G(a,c)},d(b){b&&n(u)}}}function Pt(t){let u,c,a=t[21]+1+"",b,E,H,w=Ze(t[19]),_=[];for(let D=0;D<w.length;D+=1)_[D]=Bt(Ft(t,w,D));return{c(){u=s("tr"),c=s("th"),b=O(a),E=h();for(let D=0;D<_.length;D+=1)_[D].c();H=h(),this.h()},l(D){u=o(D,"TR",{class:!0});var m=d(u);c=o(m,"TH",{});var f=d(c);b=U(f,a),f.forEach(n),E=p(m);for(let g=0;g<_.length;g+=1)_[g].l(m);H=p(m),m.forEach(n),this.h()},h(){r(u,"class","hover")},m(D,m){ce(D,u,m),e(u,c),e(c,b),e(u,E);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(u,null);e(u,H)},p(D,m){if(m&512){w=Ze(D[19]);let f;for(f=0;f<w.length;f+=1){const g=Ft(D,w,f);_[f]?_[f].p(g,m):(_[f]=Bt(g),_[f].c(),_[f].m(u,H))}for(;f<_.length;f+=1)_[f].d(1);_.length=w.length}},d(D){D&&n(u),Yt(_,D)}}}function xt(t){let u,c,a,b,E,H,w,_="Your Score",D,m,f,g,$=C(t[4]/(t[4]+t[1]))+"",q,K,L,Q="Puzzles Completed",ue,W,Y,oe,i,v,T=C(t[4]/(t[4]+t[1]))+"",k,A,S,y,x,F,M=C(t[3]/(t[2]+t[3]))+"",B,le,z,ee="Number of Hints Used",se,ae,re,Ce,te,fe,ve=C(t[3]/(t[2]+t[3]))+"",ne,Ve,$e,ke,xe,Te,gt="Others' Scores",et,X,Oe,ie,Se=C(t[8]/(t[8]+t[5]))+"",Be,tt,Ee,bt="Puzzles Completed",lt,Ue,Pe,st,he,ot,Ne=C(t[8]/(t[8]+t[5]))+"",Ye,at,rt,Z,ze,de,Ae=C(t[7]/(t[6]+t[7]))+"",Ge,nt,ye,Dt="Number of Hints Used",it,je,Re,dt,pe,ct,Fe=C(t[7]/(t[6]+t[7]))+"",Je,ut,ft,Me,vt,we,_e,He,Et="<tr><th></th> <th>Username</th> <th>Puzzles Completed</th> <th>Hints Stored</th> <th>Hints Used</th> <th>Give Ups</th></tr>",ht,Ie,P=t[0]=="notAnAdmin"&&Mt(t),Le=Ze(t[9]),N=[];for(let l=0;l<Le.length;l+=1)N[l]=Pt(At(t,Le,l));return{c(){u=h(),c=s("div"),a=s("div"),b=s("div"),E=h(),P&&P.c(),H=h(),w=s("h2"),w.textContent=_,D=h(),m=s("div"),f=s("div"),g=s("div"),q=O($),K=h(),L=s("div"),L.textContent=Q,ue=h(),W=s("div"),Y=O(t[1]),oe=h(),i=s("div"),v=O("You gave up "),k=O(T),A=O("% of the puzzles"),S=h(),y=s("div"),x=s("div"),F=s("div"),B=O(M),le=h(),z=s("div"),z.textContent=ee,se=h(),ae=s("div"),re=O(t[3]),Ce=h(),te=s("div"),fe=O("You used "),ne=O(ve),Ve=O("% of your total hints"),$e=h(),ke=s("div"),xe=h(),Te=s("h2"),Te.textContent=gt,et=h(),X=s("div"),Oe=s("div"),ie=s("div"),Be=O(Se),tt=h(),Ee=s("div"),Ee.textContent=bt,lt=h(),Ue=s("div"),Pe=O(t[5]),st=h(),he=s("div"),ot=O("Others gave up "),Ye=O(Ne),at=O("% of the puzzles"),rt=h(),Z=s("div"),ze=s("div"),de=s("div"),Ge=O(Ae),nt=h(),ye=s("div"),ye.textContent=Dt,it=h(),je=s("div"),Re=O(t[7]),dt=h(),pe=s("div"),ct=O("Others used "),Je=O(Fe),ut=O("% of their total hints"),ft=h(),Me=s("div"),vt=h(),we=s("div"),_e=s("table"),He=s("thead"),He.innerHTML=Et,ht=h(),Ie=s("tbody");for(let l=0;l<N.length;l+=1)N[l].c();this.h()},l(l){Wt("svelte-1jj56oi",Nt.head).forEach(n),u=p(l),c=o(l,"DIV",{class:!0});var j=d(c);a=o(j,"DIV",{});var I=d(a);b=o(I,"DIV",{class:!0}),d(b).forEach(n),E=p(I),P&&P.l(I),H=p(I),w=o(I,"H2",{"data-svelte-h":!0}),J(w)!=="svelte-1fdvqrz"&&(w.textContent=_),D=p(I),m=o(I,"DIV",{class:!0});var me=d(m);f=o(me,"DIV",{class:!0});var yt=d(f);g=o(yt,"DIV",{class:!0,style:!0,role:!0});var wt=d(g);q=U(wt,$),wt.forEach(n),yt.forEach(n),K=p(me),L=o(me,"DIV",{class:!0,"data-svelte-h":!0}),J(L)!=="svelte-2j8wjg"&&(L.textContent=Q),ue=p(me),W=o(me,"DIV",{class:!0});var It=d(W);Y=U(It,t[1]),It.forEach(n),oe=p(me),i=o(me,"DIV",{class:!0});var qe=d(i);v=U(qe,"You gave up "),k=U(qe,T),A=U(qe,"% of the puzzles"),qe.forEach(n),me.forEach(n),S=p(I),y=o(I,"DIV",{class:!0});var ge=d(y);x=o(ge,"DIV",{class:!0});var Ct=d(x);F=o(Ct,"DIV",{class:!0,style:!0,role:!0});var Vt=d(F);B=U(Vt,M),Vt.forEach(n),Ct.forEach(n),le=p(ge),z=o(ge,"DIV",{class:!0,"data-svelte-h":!0}),J(z)!=="svelte-d298vz"&&(z.textContent=ee),se=p(ge),ae=o(ge,"DIV",{class:!0});var Tt=d(ae);re=U(Tt,t[3]),Tt.forEach(n),Ce=p(ge),te=o(ge,"DIV",{class:!0});var Ke=d(te);fe=U(Ke,"You used "),ne=U(Ke,ve),Ve=U(Ke,"% of your total hints"),Ke.forEach(n),ge.forEach(n),$e=p(I),ke=o(I,"DIV",{class:!0}),d(ke).forEach(n),xe=p(I),Te=o(I,"H2",{"data-svelte-h":!0}),J(Te)!=="svelte-hjlgk9"&&(Te.textContent=gt),et=p(I),X=o(I,"DIV",{class:!0});var be=d(X);Oe=o(be,"DIV",{class:!0});var Ot=d(Oe);ie=o(Ot,"DIV",{class:!0,style:!0,role:!0});var Ut=d(ie);Be=U(Ut,Se),Ut.forEach(n),Ot.forEach(n),tt=p(be),Ee=o(be,"DIV",{class:!0,"data-svelte-h":!0}),J(Ee)!=="svelte-2j8wjg"&&(Ee.textContent=bt),lt=p(be),Ue=o(be,"DIV",{class:!0});var zt=d(Ue);Pe=U(zt,t[5]),zt.forEach(n),st=p(be),he=o(be,"DIV",{class:!0});var Qe=d(he);ot=U(Qe,"Others gave up "),Ye=U(Qe,Ne),at=U(Qe,"% of the puzzles"),Qe.forEach(n),be.forEach(n),rt=p(I),Z=o(I,"DIV",{class:!0});var De=d(Z);ze=o(De,"DIV",{class:!0});var jt=d(ze);de=o(jt,"DIV",{class:!0,style:!0,role:!0});var Ht=d(de);Ge=U(Ht,Ae),Ht.forEach(n),jt.forEach(n),nt=p(De),ye=o(De,"DIV",{class:!0,"data-svelte-h":!0}),J(ye)!=="svelte-d298vz"&&(ye.textContent=Dt),it=p(De),je=o(De,"DIV",{class:!0});var Lt=d(je);Re=U(Lt,t[7]),Lt.forEach(n),dt=p(De),pe=o(De,"DIV",{class:!0});var We=d(pe);ct=U(We,"Others used "),Je=U(We,Fe),ut=U(We,"% of their total hints"),We.forEach(n),De.forEach(n),ft=p(I),Me=o(I,"DIV",{class:!0}),d(Me).forEach(n),vt=p(I),we=o(I,"DIV",{class:!0,style:!0});var kt=d(we);_e=o(kt,"TABLE",{class:!0});var Xe=d(_e);He=o(Xe,"THEAD",{"data-svelte-h":!0}),J(He)!=="svelte-w1p7dy"&&(He.innerHTML=Et),ht=p(Xe),Ie=o(Xe,"TBODY",{id:!0});var St=d(Ie);for(let pt=0;pt<N.length;pt+=1)N[pt].l(St);St.forEach(n),Xe.forEach(n),kt.forEach(n),I.forEach(n),j.forEach(n),this.h()},h(){Nt.title="Score",r(b,"class","pt-2"),r(g,"class","radial-progress"),R(g,"--value",C(t[4]/(t[4]+t[1]))),r(g,"role","progressbar"),r(f,"class","stat-figure text-secondary"),r(L,"class","stat-title"),r(W,"class","stat-value"),r(i,"class","stat-desc"),r(m,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(F,"class","radial-progress"),R(F,"--value",C(t[3]/(t[2]+t[3]))),r(F,"role","progressbar"),r(x,"class","stat-figure text-secondary"),r(z,"class","stat-title"),r(ae,"class","stat-value"),r(te,"class","stat-desc"),r(y,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(ke,"class","pt-12"),r(ie,"class","radial-progress"),R(ie,"--value",C(t[8]/(t[8]+t[5]))),r(ie,"role","progressbar"),r(Oe,"class","stat-figure text-secondary"),r(Ee,"class","stat-title"),r(Ue,"class","stat-value"),r(he,"class","stat-desc"),r(X,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(de,"class","radial-progress"),R(de,"--value",C(t[7]/(t[6]+t[7]))),r(de,"role","progressbar"),r(ze,"class","stat-figure text-secondary"),r(ye,"class","stat-title"),r(je,"class","stat-value"),r(pe,"class","stat-desc"),r(Z,"class","stat card shadow-xl rounded-3xl statDisplay pt-8"),r(Me,"class","pt-12"),r(Ie,"id","tableBody"),r(_e,"class","table table-pin-rows"),r(we,"class","overflow-x-auto overflow-y-auto"),R(we,"max-height","25vh"),r(c,"class","text-column")},m(l,V){ce(l,u,V),ce(l,c,V),e(c,a),e(a,b),e(a,E),P&&P.m(a,null),e(a,H),e(a,w),e(a,D),e(a,m),e(m,f),e(f,g),e(g,q),e(m,K),e(m,L),e(m,ue),e(m,W),e(W,Y),e(m,oe),e(m,i),e(i,v),e(i,k),e(i,A),e(a,S),e(a,y),e(y,x),e(x,F),e(F,B),e(y,le),e(y,z),e(y,se),e(y,ae),e(ae,re),e(y,Ce),e(y,te),e(te,fe),e(te,ne),e(te,Ve),e(a,$e),e(a,ke),e(a,xe),e(a,Te),e(a,et),e(a,X),e(X,Oe),e(Oe,ie),e(ie,Be),e(X,tt),e(X,Ee),e(X,lt),e(X,Ue),e(Ue,Pe),e(X,st),e(X,he),e(he,ot),e(he,Ye),e(he,at),e(a,rt),e(a,Z),e(Z,ze),e(ze,de),e(de,Ge),e(Z,nt),e(Z,ye),e(Z,it),e(Z,je),e(je,Re),e(Z,dt),e(Z,pe),e(pe,ct),e(pe,Je),e(pe,ut),e(a,ft),e(a,Me),e(a,vt),e(a,we),e(we,_e),e(_e,He),e(_e,ht),e(_e,Ie);for(let j=0;j<N.length;j+=1)N[j]&&N[j].m(Ie,null)},p(l,[V]){if(l[0]=="notAnAdmin"?P?P.p(l,V):(P=Mt(l),P.c(),P.m(a,H)):P&&(P.d(1),P=null),V&18&&$!==($=C(l[4]/(l[4]+l[1]))+"")&&G(q,$),V&18&&R(g,"--value",C(l[4]/(l[4]+l[1]))),V&2&&G(Y,l[1]),V&18&&T!==(T=C(l[4]/(l[4]+l[1]))+"")&&G(k,T),V&12&&M!==(M=C(l[3]/(l[2]+l[3]))+"")&&G(B,M),V&12&&R(F,"--value",C(l[3]/(l[2]+l[3]))),V&8&&G(re,l[3]),V&12&&ve!==(ve=C(l[3]/(l[2]+l[3]))+"")&&G(ne,ve),V&288&&Se!==(Se=C(l[8]/(l[8]+l[5]))+"")&&G(Be,Se),V&288&&R(ie,"--value",C(l[8]/(l[8]+l[5]))),V&32&&G(Pe,l[5]),V&288&&Ne!==(Ne=C(l[8]/(l[8]+l[5]))+"")&&G(Ye,Ne),V&192&&Ae!==(Ae=C(l[7]/(l[6]+l[7]))+"")&&G(Ge,Ae),V&192&&R(de,"--value",C(l[7]/(l[6]+l[7]))),V&128&&G(Re,l[7]),V&192&&Fe!==(Fe=C(l[7]/(l[6]+l[7]))+"")&&G(Je,Fe),V&512){Le=Ze(l[9]);let j;for(j=0;j<Le.length;j+=1){const I=At(l,Le,j);N[j]?N[j].p(I,V):(N[j]=Pt(I),N[j].c(),N[j].m(Ie,null))}for(;j<N.length;j+=1)N[j].d(1);N.length=Le.length}},i:mt,o:mt,d(l){l&&(n(u),n(c)),P&&P.d(),Yt(N,l)}}}function C(t){return isNaN(t)?0 .toFixed(2):(t*100).toFixed(2)}function el(t,u,c){var a=this&&this.__awaiter||function(i,v,T,k){function A(S){return S instanceof T?S:new T(function(y){y(S)})}return new(T||(T=Promise))(function(S,y){function x(B){try{M(k.next(B))}catch(le){y(le)}}function F(B){try{M(k.throw(B))}catch(le){y(le)}}function M(B){B.done?S(B.value):A(B.value).then(x,F)}M((k=k.apply(i,v||[])).next())})};let b="",E,H,w,_,D,m,f,g,$,q=[["p1",100,25,0,1],["p2",80,35,10,1],["p3",75,15,0,1],["p4",20,7,5,1],["p5",10,4,4,1]];function K(){return a(this,void 0,void 0,function*(){try{const i=yield fetch("/getTotals");if(!i.ok)throw new Error("Failed to fetch totals");const v=yield i.json();c(5,m=v.total_puzzle_completed),c(6,f=v.total_num_of_hints),c(7,g=v.total_num_of_hints_used),c(8,$=v.total_num_of_give_ups_used)}catch(i){console.error(i)}})}function L(){return a(this,void 0,void 0,function*(){try{const i=yield fetch("/getTopScores");if(!i.ok)throw new Error("Failed to fetch top scores");const v=yield i.json();c(9,q=v),console.log(q)}catch(i){console.error(i)}})}function Q(){return a(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/protected")).json();console.log(v.loggedIn),v.loggedIn?ue():window.location.href="/"}catch(i){console.error("Error fetching data:",i)}})}function ue(){return a(this,void 0,void 0,function*(){try{const v=yield(yield fetch("/getUserInfo")).json();c(0,b=v.username),E=v.userType,c(1,H=v.puzzleCompleted),c(2,w=v.numOfHints),c(3,_=v.numOfHintsUsed),c(4,D=v.numOfGiveUpsUsed)}catch(i){console.error("Error fetching data:",i)}})}Jt(()=>{Q(),L(),K()});function W(){return a(this,void 0,void 0,function*(){try{const i=yield fetch("/saveInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(!i.ok)throw new Error("Failed to save information");const v=i.headers.get("Content-Disposition").split("filename=")[1],T=yield i.blob(),k=window.URL.createObjectURL(T),A=document.createElement("a");A.href=k,A.download=v,A.click(),window.URL.revokeObjectURL(k)}catch(i){console.error("Error:",i)}})}function Y(i){return a(this,void 0,void 0,function*(){try{const T=yield i.target.files[0].text(),k=JSON.parse(T);console.log(k);const A=yield fetch("/loadInfo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!A.ok)throw new Error("Failed to upload user info");const S=yield A.json();console.log(S.message)}catch(v){console.error("Error:",v)}})}function oe(){return a(this,void 0,void 0,function*(){try{const i=yield fetch("/clearData",{method:"GET"});if(!i.ok)throw new Error("Failed to clear data");const v=yield i.json();window.location.href="/"}catch(i){console.error("Error:",i)}})}return[b,H,w,_,D,m,f,g,$,q,W,Y,oe]}class rl extends Kt{constructor(u){super(),Qt(this,u,el,xt,Rt,{})}}export{rl as component,al as universal};
